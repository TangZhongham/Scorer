#  Scorer log

## åŠŸèƒ½åˆ—è¡¨

ç¾½æ¯›çƒè®°åˆ†ï¼ˆä¹’ä¹“çƒ
è¯»å–iOS çš„
ç”Ÿæˆå›¾ç‰‡åˆ†äº«åˆ° wechat
æ”¯æŒè®°å½•å¡è·¯é‡Œç­‰ ä¹Ÿè¾“å‡º

è“ç‰™é…å¯¹ï¼Ÿè¦æ‰¾ä¸€ä¸ªæ–¹å¼é…å¯¹ä¸¤ä¸ªäººçš„watchã€‚ä¹Ÿå¯ä»¥å•äººè®°åˆ†æ¨¡å¼ã€‚

âœ… çœ‹çœ‹å¸‚é¢ä¸Šæœ‰æ²¡æœ‰ç±»ä¼¼appã€‚

âœ… ç”»è‰å›¾åšåˆç‰ˆapp

timer å¯å‚è€ƒï¼šhttps://github.com/sunshaped/watchOS-zen-timer/blob/main/ZenTimer%20WatchKit%20Extension/ContentView.swift

å¯ä»¥æœ€åpolish çš„æ—¶å€™å†å¼„ animatino / transition

iOS ä¸Šçš„ user setting é¡µé¢å¯ä»¥ç”¨ UserDefaults çš„å­—å…¸å»persist  ï¼šhttps://www.simpleswiftguide.com/how-to-use-userdefaults-in-swiftui/

persisit data å‚è€ƒï¼šhttps://developer.apple.com/tutorials/app-dev-training/persisting-data

rotation å‘ç°ä½¿ç”¨ ignoresafearea çš„æƒ…å†µä¸‹rotate åå¡ä¸æ»¡å±å¹•ï¼Œæ–‡å­—ä½ç½®è‚¯å®šä¹Ÿä¸å¯¹ï¼Œç¬¨æ–¹æ³•å°±æ˜¯ç›´æ¥é‡å†™ä¸€ä¸ªå…¶ä»–æ–¹å‘ç‰ˆæœ¬çš„Viewå’¯ã€‚

wwdc åšä¸€ä¸ªworkout app æ¶‰åŠ healthkitï¼šhttps://developer.apple.com/videos/play/wwdc2021/10009/ã€‚https://app-o-mat.com/article-series/watchkit-workout-apps

å†…è´­æ˜¯å¯ä»¥ä¸ç”¨server ç«¯éªŒè¯çš„ï¼Œå¯ä»¥åŠ å†…è´­è§£é” player åŠŸèƒ½ï¼Œå¯æ·»åŠ ç…§ç‰‡ï¼Œè®°å½•play æ¬¡æ•°ã€‚IAP å®ç°å¯ä»¥é—®é—®chatgpt å†™ä¾‹å­

â é…è‰²å‚è€ƒï¼šhttps://developer.apple.com/tutorials/app-dev-training/creating-a-card-viewã€‚https://developer.apple.com/tutorials/app-dev-training/passing-data-with-bindings

## å¼€å‘è®°å½•

Haptic: 
è‡ªå·±ç”¨çš„æ˜¯ï¼šDirection Up, Success, å–æ¶ˆæ˜¯ï¼šFailure. https://developer.apple.com/documentation/watchkit/wkhaptictype

ç›®æ ‡é¡¹ç›®ç”¨çš„haptic æ˜¯ åŠ åˆ†ï¼šSuccess ã€‚åŒå‡»å–æ¶ˆï¼šRetryï¼Œé•¿æŒ‰åªæœ‰éœ‡åŠ¨ï¼Œåº”è¯¥æ˜¯ click .https://developer.apple.com/documentation/watchkit/wkhaptictype

Pop to root view ä½¿ç”¨ï¼šhttps://stackoverflow.com/questions/62207710/swiftui-how-can-i-pop-to-the-root-view-for-watchos æ³¨é‡Šæ‰.isDetailLink(false)

æš‚æ—¶æ²¡ä½¿ç”¨ NavigationStack æ˜¯å› ä¸º build åéƒ¨åˆ†å…¨å±æ˜¾ç¤ºçš„è¢«å–æ¶ˆäº†ï¼Œå¯èƒ½æ˜¯è‹¹æœbugï¼Œæ‰€ä»¥å…¨å±€æš‚æ—¶ç”¨ navigationlink è·¯ç”±ã€‚

animation + transition: https://swiftui-lab.com/advanced-transitions/

æ•°å­—å¯å‚è€ƒå®ç°ç‚¹å‡»éœ‡åŠ¨æ•ˆæœï¼šhttps://benoitpasquier.com/create-watchos-app-in-swiftui/

## æ—¥æœŸè®°å½•

0517:

å‚è€ƒï¼šhttps://developer.apple.com/videos/play/wwdc2022/10133/

å»è¿›è¡Œapp çš„å¼€å‘ã€‚


0518

è®¾è®¡åŸºæœ¬ç¨‹åºï¼Œé¡µé¢æµè½¬ï¼Œç®€å•+- è®°åˆ†åŠŸèƒ½ã€‚

https://stackoverflow.com/questions/58539015/swiftui-respond-to-tap-and-double-tap-with-different-actions

âœ… æ ¹æ®é“¾æ¥æ·»åŠ äº† å•å‡» +1 åŒå‡» -1 çš„åŠŸèƒ½ã€‚

https://developer.apple.com/documentation/swiftui/longpressgesture

âœ… æ·»åŠ  longpress åŠŸèƒ½ã€‚

âœ… æ·»åŠ  sound åŠŸèƒ½

ä»Šæ™šor æ˜å¤©ï¼šèƒŒåæ•°æ®ç»“æ„ï¼Œå…ˆæç®€å•çš„è®¡æ•°ï¼Œç„¶åéœ‡åŠ¨ã€‚ç„¶åå†™ä¸€ä¸ª ç½‘çƒçš„ï¼Ÿ

0519

âœ… å®Œæˆ haptic è®¾è®¡ã€‚è€ƒè™‘èƒŒåæ•°æ®ç»“æ„ã€‚

å¡åœ¨äº† ä» view2 å¼¹åˆ° ä¸»view è¿™ä¸ªæ“ä½œä¸Šé¢ï¼Œçœ‹åˆ°ä¸€ç§å®ç°ï¼Œä½†æ˜¯ watchos ä¸æ”¯æŒ .isDetailLink(false) :https://thinkdiff.net/swiftui-how-to-pop-to-root-view-e27fa0dc8fa8

ç»“æœå‘ç°å¦ä¸€ä¸ªå¸–å­è¯´ åªè¦æ³¨é‡Šæ‰é‚£ä¸€è¡Œç…§æ · work ã€‚ã€‚ã€‚ å®¢æˆ·ç«¯å¼€å‘å°±æ˜¯è¿™ç‚¹è›‹ç–¼ï¼Œè‹¹æœè¯´äº†ç®—ã€‚https://stackoverflow.com/questions/62207710/swiftui-how-can-i-pop-to-the-root-view-for-watchos

âœ… å®Œæˆ ä»ç¬¬ä¸‰é¡µå‘é¦–é¡µå›å½’ã€‚pop to root view

âœ… ä¹‹å‰ä¸Šä¸‹ä¸¤ä¸ªé¢œè‰²ä¸­é—´æœ‰æ¡çº¿ï¼Œå…¶å®åªè¦åœ¨ çˆ¶VStack åŠ ä¸Š spacing:0 å°±å¯ä»¥äº†

ğŸ„ğŸ„ğŸ„ğŸ„ app è®¾è®¡ï¼š

å½“å‰åŸºæœ¬çš„è®¡æ•°åŠŸèƒ½å¼€å‘å®Œæ¯•ï¼Œå·®ä¸€ä¸ªèƒŒåæ•°æ®ç»“æ„ï¼Œç„¶åæ¨ªå‘æ‰©å±•å…¶ä»–åŠŸèƒ½ï¼Œè®¡æ—¶å™¨ï¼Œæ¯”åˆ†è®¡ç®—ï¼Œç¾½æ¯›çƒï¼Œä¹’ä¹“çƒï¼Œç½‘çƒï¼ˆéš¾ï¼‰ã€‚

æ€»ä½“åŠŸèƒ½ï¼šé¢œè‰²å¯shuffleï¼Œæ”¯æŒåˆ‡æ¢ä¸­è‹±æ–‡ä¸¤ç§è¯­è¨€ï¼› æ”¯æŒæŒ‰æ—¶é—´æ±‡æ€»ç”»å›¾ï¼Œæ”¯æŒplayerï¼ˆæš‚æ—¶ä¸åšï¼‰ï¼Œè¿™ä¸¤ä¸ªåŠŸèƒ½å¯ä»¥ç»“åˆæ‰‹æœºæ·»åŠ  player åŠŸèƒ½ã€‚æ”¯æŒå¯¹å±€ç”Ÿæˆå›¾ç‰‡åˆ†äº«ã€‚iOS app å¼€å‘

ç®€å•è®¡åˆ†å™¨ï¼šâœ… é»˜è®¤æ— è®¡æ—¶ï¼Œâœ… é»˜è®¤æ— é™æŠŠï¼Œâœ… æ— å±€æ•°ï¼Œâ æ‰‹åŠ¨å½’é›¶ã€‚

â ç¾½æ¯›çƒè®¡åˆ†å™¨ï¼šé»˜è®¤æ­£è®¡æ—¶ï¼Œé»˜è®¤ä¸€æŠŠ 21 åˆ†ï¼Œé»˜è®¤ä¸‰å±€ä¸¤èƒœï¼Œæ¯å±€åŒæ–¹æ‰“åˆ°20å¹³åï¼Œä¸€æ–¹é¢†å…ˆ2åˆ†å³ç®—è¯¥å±€è·èƒœï¼›è‹¥åŒæ–¹æ‰“æˆ29å¹³åï¼Œä¸€æ–¹é¢†å…ˆ1åˆ†ï¼Œå³ç®—è¯¥å±€å–èƒœã€‚

â ä¹’ä¹“çƒè®°åˆ†å™¨ï¼šé»˜è®¤æ­£è®¡æ—¶ï¼Œé»˜è®¤ä¸€æŠŠ 11 åˆ†ï¼ˆå¯åˆ‡æ¢æˆ21åˆ†ï¼‰ï¼Œé»˜è®¤ä¸‰å±€ä¸¤èƒœï¼ˆä¸‰å±€ä¸¤èƒœã€äº”å±€ä¸‰èƒœã€ä¸ƒå±€å››èƒœä¸‰ç§ï¼‰ã€‚åˆ°10-10 æ—¶éœ€è¦ç­‰åˆ° è¶…2 æ‰ç®—èƒœåˆ©ã€‚ 

â æ”¯æŒè‡ªå®šä¹‰è®°åˆ†å™¨ï¼š

â ~~æ¸¸æ³³è®¡æ—¶å™¨ï¼šè¾“å…¥åœˆæ•°ï¼Œæ€»æ—¶é—´~~ï¼Œ

0519 ç¢°è§çš„bug å¯èƒ½æ˜¯ç›®å‰è¿˜æ˜¯é€šè¿‡ struct å»æ„é€ ï¼ŒåæœŸæ”¹æˆ observableobject å¯èƒ½å°±OKäº†ã€‚

0520 æ²¡ç®¡bugï¼Œå…ˆæŠŠæ ¸å¿ƒåŠŸèƒ½å†™äº†å‡ºæ¥ã€‚

âœ… å®Œæˆtimerï¼Œå†™æ­»çš„è®°åˆ†ï¼Œè®°å±€åŠŸèƒ½ã€‚
âœ… å®Œæˆä¸¤ä¸ªæ–¹å‘çš„rotation åŠŸèƒ½
âœ… å®Œæˆä¹‹å‰é¦–é¡µçš„bugï½ä¸æ˜¯bugï¼Œæ˜¯è‡ªå·±å†™å‘²äº†ï½

0521 è°ƒç ” æ‰‹è¡¨å’Œiphone ä¹‹é—´æ•°æ®åŒæ­¥æ€ä¹ˆç©ã€‚è°ƒç ”ç”»å›¾ï¼Œå¯ä»¥å…ˆæ”¾åœ¨iOSã€‚ è°ƒç ”å†…è´­ï¼ˆç”»å›¾ï¼Œåˆ›å»ºplayer ç©å®¶ï¼‰ï¼Œç»“åˆé¦–é¡µä½œæˆå¯é…ç½®åŒ–å¯æ·»åŠ ã€åˆ é™¤åŒ–ã€‚

An independent watchOS app can use Watch Connectivity to transfer information from its companion iOS app when the iOS device is available. However, the independent watchOS app canâ€™t use Watch Connectivity as its main source of data, so it needs to be capable of accessing information on its own.
https://developer.apple.com/documentation/watchconnectivity

âœ… å‚è€ƒè¿™ç¯‡æ–‡ç« çš„demo æˆåŠŸäº†ï¼šhttps://cgaaf.medium.com/swiftui-watch-connectivity-in-4-steps-594f90f3a0bc

å…ˆæä¸€ä¸ªæœ€ç®€appï¼Œå°±æ˜¯ iphoneï¼Œwatch ä¸¤è¾¹çš„å¯ä»¥åŒæ—¶æ“ä½œï¼Œå…ˆç æ‰å…¶ä»–é¡µé¢ã€‚watch ä¸¤ä¸ªé¡µé¢ï¼Œè®°åˆ†å™¨ï¼Œè®¾ç½®ï¼›iphone ä¸¤ä¸ªé¡µé¢ï¼Œè®°åˆ†å™¨ï¼Œè®¾ç½®ã€‚

æ˜å¤©orä»Šæ™šæŠŠåå°å†™æ­»çš„æ¢æˆobservableobject ç»™ä¸¤è¾¹ç”¨

âœ… å®ŒæˆèƒŒåæ•°æ®ç»“æ„æ›¿æ¢æˆ observableobject ã€‚
~~â ç”±äºä½¿ç”¨stack å¼•å…¥ 1. detail æœ‰ä¸€ä¸ªå¤§æ¨ªæ¡ï¼Œcanvas æ²¡æœ‰simulatoræœ‰ 2. æ²¡å†™è¿”å›root viewçš„æ–¹æ¡ˆã€‚ï¼ˆYea so it got fixed when I did .navigationBarHidden(true) and ran it in a simulator and on my apple watch, but the canvas was glitched into still showing the navigation bar. Thank you for the help! è·Ÿæˆ‘çš„ä¸ä¸€æ ·ã€‚ä½†æ˜¯çœŸæœ‰å¯èƒ½æ˜¯æ˜¾ç¤ºçš„bugï¼Œæš‚æ—¶å…ˆä¸ç®¡ï¼Ÿhttps://www.reddit.com/r/SwiftUI/comments/k0guf4/watchos_series_5_44mm_safe_area_problem/ï¼‰~~
æ™šä¸Š12ç‚¹åŠå‘ç°è¿˜æ˜¯è‡ªå·±çš„é”…ï¼Œå¤ªsloppyäº†ï¼Œæ˜å¤©è®°å½•ä¸€ä¸‹æ•´ä¸ªè¿‡ç¨‹ã€‚å‰ç«¯çœŸçš„ä¸åƒåç«¯é‚£ä¹ˆè‡ªç”±ï¼Œbugå¤ªéš¾æ‰¾äº†ã€‚

å·¥å…·é¡µå¸ƒå±€å¯å‚è€ƒï¼šhttps://stackoverflow.com/questions/60779781/swiftui-is-not-respecting-safe-area-for-apple-watch

0522 pop to root view é—®é¢˜ï¼šhttps://stackoverflow.com/questions/73723771/navigationstack-not-affected-by-environmentobject-changes/

âœ… è§£å†³å¤§æ¨ªæ¡â€œbugâ€ é—®é¢˜

0522 âœ… è§£å†³å›root view çš„é—®é¢˜ã€‚

## å­¦ä¹ å¿ƒå¾—

0521 åŸæœ¬board ç±»è®¾ç½®æˆstruct ä¸”éObservable Object åŒæ—¶ View é‡Œé¢ç”¨Binding åªæä¾›äº† å±•ç¤ºåŠŸèƒ½ï¼Œæ²¡æœ‰ç•™ tap +1 åŠŸèƒ½ã€‚æ ¹æœ¬åŸå› æ˜¯å¼€å‘è¿˜ä¸ç†Ÿæ‚‰ã€‚äºæ˜¯å¤§æ”¹æˆäº† Observable Objectã€‚
åŒæ—¶ å‘ç° Observed Object æ€»æ˜¯è¦å¡å˜é‡ View(model:a) äºæ˜¯æ”¹æˆäº† environmentObject ã€‚å¥½å¤„æ˜¯ call view çš„æ—¶å€™åªéœ€è¦ View.environmentObject(xx)


## BUG è®°å½•

~~0519 å‘ç°ä¸€ä¸ª swiftui çš„bugï¼Œå…·ä½“æ˜¯å¸Œæœ›ç”¨ foreach + if åˆ¤æ–­ä¸€ä¸‹ a.name == "b" çš„æƒ…å†µï¼Œä¼šå‡ºç°å®é™…ç»‘å®šæ— æ³•é¢„çŸ¥çš„æƒ…å½¢ã€‚æš‚æ—¶ç»•è¿‡~~

~~0520 å‘ç°ç»‘å®šäº† observableobject çš„ç‰ˆæœ¬ä¹Ÿæœ‰bugã€‚~~

~~æœ‰å¯èƒ½1 workout æ²¡æœ‰UUIDï¼Ÿ
2. å‚è€ƒè¿™ä¸ªäººå¥½åƒç¢°è§ä¸€æ ·çš„é—®é¢˜ï¼Œå‘ç°ç¡®å®å’Œ isActive æœ‰å…³ï¼šhttps://www.hackingwithswift.com/forums/swiftui/navigationlink-in-list-pushes-the-wrong-row/5213

isactive æ˜¯ä¸ºäº†pop to rootview å®ç°çš„ï¼Œæœ‰ç©ºè¯•è¯•è¿™ç§æ–¹å¼ popï¼š~~\https://www.hackingwithswift.com/forums/swiftui/pop-to-parent-view-via-bar-button/1295\~~

è¦ä¹ˆå…ˆä¸ç©pop to root view

âœ… ps: è¿™ä¸ªbug æ˜¯å‚è€ƒè¿™ä¸ªé“¾æ¥å¼•å…¥çš„ï¼Œå¯èƒ½ä½œè€…åªç”¨äº†ä¸€ä¸ªview ï¼ˆå®åœ¨ä¸è¡Œæˆ‘ä¹Ÿå¯ä»¥åªå®ç°ä¸€å±‚ï¼Œå°±æ˜¯å•ä¸ªè®°åˆ†å™¨ï¼Œåªä¸è¿‡å¯ä»¥ä¸æ–­ä¿®æ”¹ï¼Œä¹Ÿæ˜¯ä¸€ç§æ–¹æ¡ˆã€‚

âœ… å‘ç°æˆ‘çš„é—®é¢˜æ˜¯ isActive çš„å˜é‡ å¤šä¸ªview éƒ½ç”¨äº†ï¼Œé€ æˆäº†æ··ä¹±ã€‚https://app-o-mat.com/article/watchkit/programmatic-navigationlink-swiftui-apple-watch

âœ… ä¸æ˜¯bugï¼Œè‡ªå·±å†™é”™äº†ï¼Œé€šè¿‡ä»¥ä¸Šé“¾æ¥é‡Œçš„æ–¹æ³•ä¼ ä¸€ä¸ª () -> void ç»™å­view render çš„åŒæ—¶æ‰§è¡Œï¼Œè§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚

```swift
            ForEach(workouts) { workout in
                //                WorkoutCellView(workout: workout)
                // è¿™é‡Œå¯ä»¥é€šè¿‡ destination ä¼  workout ç»™ä¸‹å±‚view åšä¸€ä¸ªswitch åˆ¤æ–­ç»™åˆ°å“ªä¸ªviewã€‚
                Group {
                    if workout.name == "ç®€å•è®¡åˆ†æ¿" {
                        NavigationLink(destination: BadmintonView().environmentObject(appState)
                            .transition(.asymmetric(insertion: .opacity, removal: .scale))
                                       
                                       //                    .transition(.opacity)
                                       //                    .animation(.easeIn)
                                       , isActive: $appState.moveToRoot) {
                            WorkoutCellView(workout: workout).environmentObject(appState)
                        }
                        
                    } else if workout.name != "ç®€å•è®¡åˆ†æ¿" {
                        NavigationLink(destination: Text("Still working on it...")
                            .transition(.asymmetric(insertion: .opacity, removal: .scale))
                                       
                                       //                    .transition(.opacity)
                                       //                    .animation(.easeIn)
                                       , isActive: $appState.moveToRoot) {
                            WorkoutCellView(workout: workout).environmentObject(appState)
                        }
                        
                    }
                }}
```
